document.addEventListener("DOMContentLoaded",()=>{const debugBar=document.querySelector(".gdbg .gdbg-container");if(!debugBar)return;const toggler=document.querySelector(".gdbg-toggler");window.localStorage.getItem("gdbg-hide")?toggler.classList.add("gdbg-toggler-show"):debugBar.classList.add("gdbg-container-show"),toggler.addEventListener("click",e=>{e.preventDefault(),toggler.classList.remove("gdbg-toggler-show"),debugBar.classList.add("gdbg-container-show"),window.localStorage.removeItem("gdbg-hide")});const closeBtn=document.querySelector(".gdbg-close");closeBtn.addEventListener("click",e=>{e.preventDefault(),debugBar.classList.remove("gdbg-container-show"),toggler.classList.add("gdbg-toggler-show"),window.localStorage.setItem("gdbg-hide",!0)});const resizeHandle=document.querySelector(".gdbg .gdbg-resize-handle"),panelHeight=window.localStorage.getItem("gdbg-height")||200;debugBar.style.height=panelHeight+"px";const minHeight=100,maxHeight=window.innerHeight-20;let mousePosition;function resize(e){let dx=mousePosition-e.y;mousePosition=e.y;let size=parseInt(getComputedStyle(debugBar,"").height)+dx;size>=100&&size<=maxHeight&&(debugBar.style.height=size+"px",window.localStorage.setItem("gdbg-height",size))}resizeHandle.addEventListener("mousedown",(function(e){mousePosition=e.y,document.addEventListener("mousemove",resize,!1)}),!1),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",resize,!1)}),!1);const tabs=document.querySelectorAll(".gdbg .gdbg-tab"),menus=document.querySelectorAll(".gdbg .gdbg-menu button:not(.gdbg-close)"),currentTab=window.localStorage.getItem("gdbg-tab")||"#gdbg-tab-1";function toggleTab(id){tabs.forEach(t=>t.classList.remove("gdbg-tab-active")),menus.forEach(m=>m.classList.remove("gdbg-menu-active")),document.querySelector(id).classList.add("gdbg-tab-active")}menus.forEach(a=>{a.addEventListener("click",e=>{let id=a.getAttribute("data-target");e.preventDefault(),toggleTab(id),a.classList.add("gdbg-menu-active"),window.localStorage.setItem("gdbg-tab",id)})}),toggleTab(currentTab),document.querySelector('.gdbg .gdbg-menu button[data-target="'+currentTab+'"]').classList.add("gdbg-menu-active");const togglers=document.querySelectorAll(".gdbg .gdbg-trace-toggle");togglers.forEach(a=>{a.addEventListener("click",e=>{e.preventDefault(),a.nextElementSibling.classList.toggle("gdbg-exception-trace-show")})});const expandables=document.querySelectorAll(".gdbg-expandable-value");expandables.forEach(a=>{a.addEventListener("click",e=>{e.preventDefault(),a.classList.toggle("gdbg-expandable-value-show")})})});